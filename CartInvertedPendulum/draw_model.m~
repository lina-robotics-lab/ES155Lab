close all;
g=9.81;
mp=.23;
l=.6413;
r=l/2;
J=1/3*mp*l^2;
gamma=.024;
mc=.38;
c=0.9;


x0 = [0;pi/4;0;0];

model = cart_inverted_model(x0,g,mp,l,r,J,gamma,mc,c);
model.s;
   % State vector s=(x,theta, dx/dt,dtheta/dt)
xl = [-10*,2];
yl = [-2*model.l,2*model.l];


ax = gca;
width = 0.5;
height = 0.2;
x = model.s(1)-1/2*width;
y=0-height;

plot(xl,[0 0],'Parent',ax,'Color','k');
hold on;
rectangle('Parent',ax,'Position',[x y width height],"FaceColor",[196,154,71]/256,'EdgeColor','b')
hold on;
wheel_r = 0.1; 
wheel_pos = [x+1/3*width,x+2/3*width]
wheel_spec = [wheel_pos(1),y,wheel_r,wheel_r];

% Use curved rectangle to draw circles.
rectangle('Parent',ax, 'Position',wheel_spec,'Curvature',[1 1])
hold on;
set(ax,'DataAspectRatio',[1 1 1])
xlim(xl);
ylim(yl);
